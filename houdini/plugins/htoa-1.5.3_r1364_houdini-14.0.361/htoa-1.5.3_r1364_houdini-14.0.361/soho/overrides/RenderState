// $Id: RenderState 885 2014-08-05 15:49:40Z kik $
//
// Render Region
//
// When the user selects a render region in the viewport, this file is parsed
// to provide "overrides" for SOHO parameter evaluation. Instead of querying
// the camera, the values described in this value will be used instead.
//
// The viewport sets some variables which can be used to specify parameter
// values. Alternatively, constant values can also be specified. The variables
// are:
//
//     $cam_xform       - The camera's transform
//     $projection      - The projection ("ortho" or "perspective")
//     $orthowidth      - Ortho width
//     $focal           - Focal length
//     $aperture        - Aperture
//     $win             - Window offset channels
//     $winsize         - Window size channels
//     $viewport_res    - Resolution of the viewport
//     $socket          - The Houdini socket device listening for tile data
//
// These overrides are applied to the CAMERA object given in the
// initialization of SOHO.
//
// FILE STRUCTURE:
// Please see ViewportRender for details.
//
// NOTES:
// This file is used to provide overrides when rendering from the render state
// in the Houdini viewports. The render state expects the image to be written
// to the socket specified by $socket. It may be necessary to modify the soho
// programs for the render generation to handle this properly.

#include "$HH/soho/overrides/RenderState"

// RenderState overrides for Arnold
{
    override.inherit    CommonView
    override.name       Arnold

    // Force the render to go to the "ip" device
    ar_picture          [ "iprsocket:$socket" ]
                          
    // set this flag to signal the override to htoa
    ar_overridden       [ 2 ]
    
    // disallow multicam in this context
    ar_multicam         [ 0 ]
                          
    // progressive rendering
    ar_progressive      [ "$preview" ]
    
    // update time
    ar_render_interrupt [ "$renderinterrupt" ]
    
    // delay
    ar_preview_time     [ "$previewtime" ]
    
    // blur|sharp
    ar_preview_mode     [ "$previewmode" ]
    
    // render context is interactive
    ar_interactive      [ 1 ]
}

// Specific renderer overrides
{
    override.inherit    Arnold
    override.name       Arnold/arnold4.0
}
